<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>The Clicky Game</title>
	<script src="/socket.io/socket.io.js"></script>
	<script>
	// initiate socket.io goods
	var socket = io();

	function sendInstruction(inst) {
		var instructionPackage = JSON.stringify(inst);
		socket.emit('clicky-instruction', instructionPackage);
	}

	var clicky_instruction = class {
	  constructor(inst) {
	    this.instruction = inst;
	  }
	};

	//get results
	socket.on('send_counter_value', function(value){
		// console.log(value);
		document.getElementById("the_number").innerHTML = value;
		checkbuttons(value);
	});

	//get results
	socket.on('players_online', function(value){
		document.getElementById("online_players").innerHTML = value;
	});

	//get results
	socket.on('player_properties', function(value){
		document.getElementById("player_props").innerHTML = value;
	});

	function checkbuttons(k){
		if (k >= 10){
			document.getElementById("docounter").disabled = false;
		} else {
			document.getElementById("docounter").disabled = true;
		}
		if (k >= 100){
			document.getElementById("strike10x").disabled = false;
		} else {
			document.getElementById("strike10x").disabled = true;
		}
		// if (k > 20){
		// 	document.getElementById()
		// }
	}

	</script>
</head>
<body>
<h1>Clicky Game</h1>
<h1 id="the_number">0</h1>
<p>You literally try to get as many points as you can by clicking the button.</p>

<div class="clicky-control-group">
	<button class="clicky-control" onclick="sendInstruction(new clicky_instruction('CLICK'));" id="clickme" type="button">Click Me</button>
	<button class="clicky-control" onclick="sendInstruction(new clicky_instruction('CLOCK'));" id="docounter" disabled="true" type="button">Set up Clock</button>
	<button class="clicky-control" onclick="sendInstruction(new clicky_instruction('10X'));" id="strike10x" type="button">Strike 10x</button>
	<input type="text" name="username" value="">;
</div>

There are <i id="online_players">0</i> players online.

<textarea id="player_props"></textarea>

</body></html>